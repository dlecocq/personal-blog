---
layout: post
status: publish
published: true
title: VTK and Volume Visualization
author:
  display_name: dan.lecocq
  login: dan.lecocq
  email: dan.lecocq@kaust.edu.sa
  url: http://dan.lecocq.us/wordpress
author_login: dan.lecocq
author_email: dan.lecocq@kaust.edu.sa
author_url: http://dan.lecocq.us/wordpress
wordpress_id: 705
wordpress_url: http://dan.lecocq.us/wordpress/?p=705
date: '2009-11-09 11:40:25 -0800'
date_gmt: '2009-11-09 18:40:25 -0800'
categories:
- school
- computer science
tags:
- graphics
- visualization
- vtk
- raw
- pvm
- convert
- volume
- chest
- CT
comments:
- id: 829
  author: RSAO
  author_email: rallendes@utalca.cl
  author_url: ''
  date: '2010-06-07 11:40:30 -0700'
  date_gmt: '2010-06-07 18:40:30 -0700'
  content: "Hey... been trying to get some pretty pictures following your comments,
    but cant get vtk to do any type of nice rendering... did you have to do any other
    sort of twicking to the datasets? I've downloaded them from the volume library,
    converted them to raw and added the header exactly as you post it... can you point
    out the points used for the transfer funcitions? perhaps show a bit of the code?\r\n\r\nthanks
    alot"
- id: 831
  author: dan.lecocq
  author_email: dan.lecocq@kaust.edu.sa
  author_url: http://dan.lecocq.us/wordpress
  date: '2010-06-09 07:38:23 -0700'
  date_gmt: '2010-06-09 14:38:23 -0700'
  content: "I've uploaded <a href=\"http:&#47;&#47;dan.lecocq.us&#47;wordpress&#47;wp-content&#47;uploads&#47;2009&#47;11&#47;report.pdf\"
    rel=\"nofollow\">my report<&#47;a> for the assignment, which has a little bit
    more detail about the transfer functions.  The way I set it up, it reads the transfer
    function from a file (sure, it's a little clunky) of the following format:\n\nvalue1
    \ opacity1\nvalue2  opacity2\n....\n\nFor example:\n0\t\t0.0\n10\t\t0.0\n21\t\t0.3\n40\t\t0.3\n41\t\t0.0\n60\t\t0.0\n76\t\t1.0\n\nHere
    the transfer function is piecewise linear between these points.  As I understand
    it, transfer function selection is still a largely open research problem.  The
    biggest piece of advice that I can give is to insert single peaks into the data
    to explore where there are common values, and then mixing from there where appropriate.\n\nThere
    are also <a href=\"http:&#47;&#47;www.commontk.org&#47;index.php&#47;Documentation&#47;WidgetPlans\"
    rel=\"nofollow\">some widgets<&#47;a> available (apparently), though I've not
    used them.  This allows you to explore the function space a little more interactively."
- id: 2805
  author: ynmhgtrc
  author_email: unsizkas@rfio.com
  author_url: http://cheapraybansunglasses1.webs.com/
  date: '2013-04-05 09:36:01 -0700'
  date_gmt: '2013-04-05 16:36:01 -0700'
  content: "iuri  <a href=\"http:&#47;&#47;cheapraybansunglasses1.webs.com&#47;\"
    &#47; rel=\"nofollow\">ray ban eyeglasses sale<&#47;a> <a href=\"http:&#47;&#47;raybansunglassesoutletstore.webs.com&#47;\"
    &#47; rel=\"nofollow\">ray ban glasses<&#47;a> hmzx \r\n <a href=\"http:&#47;&#47;cheapraybansunglasses1.webs.com&#47;\"
    &#47; rel=\"nofollow\">http:&#47;&#47;cheapraybansunglasses1.webs.com&#47;<&#47;a>
    <a href=\"http:&#47;&#47;raybansunglassesoutletstore.webs.com&#47;\" &#47; rel=\"nofollow\">ray
    ban sunglasses<&#47;a> ikpt \r\n <a href=\"http:&#47;&#47;cheapraybansunglasses1.webs.com&#47;\"
    &#47; rel=\"nofollow\">ray ban glasses<&#47;a> <a href=\"http:&#47;&#47;raybansunglassesoutletstore.webs.com&#47;\"
    &#47; rel=\"nofollow\">ray ban<&#47;a> xtok \r\n <a href=\"http:&#47;&#47;cheapraybansunglasses1.webs.com&#47;\"
    &#47; rel=\"nofollow\">ray ban glasses<&#47;a> <a href=\"http:&#47;&#47;raybansunglassesoutletstore.webs.com&#47;\"
    &#47; rel=\"nofollow\">ray ban sunglasses<&#47;a> htba \r\n\r\n alpz \r\n plro
    \r\n acot  <a href=\"http:&#47;&#47;cheapraybansunglasses1.webs.com&#47;\" &#47;
    rel=\"nofollow\"><&#47;a> <a href=\"http:&#47;&#47;raybansunglassesoutletstore.webs.com&#47;\"
    &#47; rel=\"nofollow\"><&#47;a>"
- id: 2835
  author: lcnekxzw
  author_email: errnketb@mqdg.com
  author_url: http://www.drebeatssolosale.info/
  date: '2013-04-09 21:20:11 -0700'
  date_gmt: '2013-04-10 04:20:11 -0700'
  content: "ocih  <a href=\"http:&#47;&#47;www.drebeatssolosale.info&#47;\" &#47;
    rel=\"nofollow\">beats by dre solo sale<&#47;a> <a href=\"http:&#47;&#47;www.drebeatssolosale.net&#47;\"
    &#47; rel=\"nofollow\">beats by dre studio sale<&#47;a> vqwq \r\n <a href=\"http:&#47;&#47;www.drebeatssolosale.info&#47;\"
    &#47; rel=\"nofollow\">beats by dre<&#47;a> <a href=\"http:&#47;&#47;www.drebeatssolosale.net&#47;\"
    &#47; rel=\"nofollow\">beats by dre studio outlet<&#47;a> ubkz \r\n <a href=\"http:&#47;&#47;www.drebeatssolosale.info&#47;\"
    &#47; rel=\"nofollow\">beats by dre studio disocunt<&#47;a> <a href=\"http:&#47;&#47;www.drebeatssolosale.net&#47;\"
    &#47; rel=\"nofollow\">beats by dre studio sale<&#47;a> qnrr \r\n <a href=\"http:&#47;&#47;www.drebeatssolosale.info&#47;\"
    &#47; rel=\"nofollow\">http:&#47;&#47;www.drebeatssolosale.info&#47;<&#47;a> <a
    href=\"http:&#47;&#47;www.drebeatssolosale.net&#47;\" &#47; rel=\"nofollow\">dre
    beats<&#47;a> jbsv \r\n\r\n gsnz \r\n werc \r\n byyw  <a href=\"http:&#47;&#47;www.drebeatssolosale.info&#47;\"
    &#47; rel=\"nofollow\"><&#47;a> <a href=\"http:&#47;&#47;www.drebeatssolosale.net&#47;\"
    &#47; rel=\"nofollow\"><&#47;a>"
- id: 2840
  author: tqgmsmyv
  author_email: tcptzqlc@mdpu.com
  author_url: http://cheappandoracharmsuk2013.webeden.co.uk/
  date: '2013-04-10 12:32:36 -0700'
  date_gmt: '2013-04-10 19:32:36 -0700'
  content: "vszs  <a href=\"http:&#47;&#47;cheappandoracharmsuk2013.webeden.co.uk&#47;\"
    &#47; rel=\"nofollow\">pandora charms uk sale<&#47;a> <a href=\"http:&#47;&#47;pandorajewelryuk.webeden.co.uk&#47;\"
    &#47; rel=\"nofollow\">pandora uk<&#47;a> jrdw \r\n <a href=\"http:&#47;&#47;cheappandoracharmsuk2013.webeden.co.uk&#47;\"
    &#47; rel=\"nofollow\">pandora uk<&#47;a> <a href=\"http:&#47;&#47;pandorajewelryuk.webeden.co.uk&#47;\"
    &#47; rel=\"nofollow\">pandora jewellery uk<&#47;a> dltf \r\n <a href=\"http:&#47;&#47;cheappandoracharmsuk2013.webeden.co.uk&#47;\"
    &#47; rel=\"nofollow\">pandora uk<&#47;a> <a href=\"http:&#47;&#47;pandorajewelryuk.webeden.co.uk&#47;\"
    &#47; rel=\"nofollow\">pandora uk<&#47;a> sfwf \r\n <a href=\"http:&#47;&#47;cheappandoracharmsuk2013.webeden.co.uk&#47;\"
    &#47; rel=\"nofollow\">pandora uk<&#47;a> <a href=\"http:&#47;&#47;pandorajewelryuk.webeden.co.uk&#47;\"
    &#47; rel=\"nofollow\">pandora jewellery<&#47;a> wbmb \r\n\r\n szho \r\n iavy
    \r\n kwjt  <a href=\"http:&#47;&#47;cheappandoracharmsuk2013.webeden.co.uk&#47;\"
    &#47; rel=\"nofollow\"><&#47;a> <a href=\"http:&#47;&#47;pandorajewelryuk.webeden.co.uk&#47;\"
    &#47; rel=\"nofollow\"><&#47;a>"
- id: 3248
  author: webpage
  author_email: trinapresler@zoho.com
  author_url: http://www.sharemouse.hu/?option=com_k2&amp;view=itemlist&amp;task=user&amp;id=304
  date: '2015-02-06 04:50:11 -0800'
  date_gmt: '2015-02-06 11:50:11 -0800'
  content: M&aacute;ster de Direcci&oacute;n y Gesti&oacute;n de Recursos Humanos,
    2000(Instituto Oficial de Sic&oacute;logos).Certificado Oficial de Sic&oacute;logo
    General Sanitario.
---
<p>This week for Scientific Visualization, we're talking about volume rendering and using VTK to explore some data.  I got some datasets from <a href="http:&#47;&#47;www9.informatik.uni-erlangen.de&#47;External&#47;vollib&#47;">The Volume Library<&#47;a> and after a little tinkering, got VTK to render them. (And now a quick aside on how to do this as I didn't find much information on the subject).</p>
<p>I used a tool (pvm2raw) available as part of the <a href="http:&#47;&#47;www.stereofx.org&#47;volume.html">V^3<&#47;a> library to convert the pvm files to raw, but VTK requires its own simple <a href="http:&#47;&#47;www.eichberger.de&#47;2005&#47;10&#47;how-to-convert-raw-file-to-vtk.html">header<&#47;a>.  I actually found that this particular header didn't work (perhaps a VTK versioning problem?) and so taking guidance from this, checked the header of one of the VTK-included volumes:<br />
<code><br />
bash $> head VTKData&#47;ironProt.vk<br />
<&#47;code></p>
<p>This header more or less included a little information on the grid size, spacing and representation of the data:<br />
<code><br />
# vtk DataFile Version 1.0<br />
<Name of File></p>
<p>BINARY</p>
<p>DATASET STRUCTURED_POINTS</p>
<p>DIMENSIONS <x> <y> <z><br />
ASPECT_RATIO 1 <y&#47;x> <z&#47;x><br />
ORIGIN 0 0 0</p>
<p>POINT_DATA <x * y * z><br />
SCALARS scalars <unsigned_char|unsigned_short><br />
LOOKUP_TABLE default<br />
<remember to include a newline here><br />
<&#47;code></p>
<p>Concatenating the header with the raw:<br />
<code><br />
bash $> cat header CT-Head.raw > CT-Head.vtk<br />
<&#47;code></p>
<p>At that point, I was in business and was able to move on to generating pretty pictures.  Granted, these datasets are pretty sparse, but still VTK did a pretty reasonable job.  <strong>Update:<&#47;strong> a comment asked for a little bit more detail on this assignment, and so I'm including <a href='http:&#47;&#47;dan.lecocq.us&#47;wordpress&#47;wp-content&#47;uploads&#47;2009&#47;11&#47;report.pdf'>my report<&#47;a> for the project.</p>
<p>[gallery link="file" orderby="ID"]</p>
<p>I was amazed today that we can see inside of things... without taking them apart.  What an age to live in.  Especially the <a href="http:&#47;&#47;www.visualiseringscenter.se&#47;1&#47;1.0.1.0&#47;230&#47;1&#47;">virtual autopsy table<&#47;a> I read about recently.  In 20 years, we'll have Firefly-style real-time holographic body scans (ignore music, skip to 0:45):</p>
<p><object width="480" height="385" class="aligncenter"><param name="movie" value="http:&#47;&#47;www.youtube.com&#47;v&#47;Kgq_Psl9N6Q&hl=en&fs=1&"><&#47;param><param name="allowFullScreen" value="true"><&#47;param><param name="allowscriptaccess" value="always"><&#47;param><embed src="http:&#47;&#47;www.youtube.com&#47;v&#47;Kgq_Psl9N6Q&hl=en&fs=1&" type="application&#47;x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" width="480" height="385"><&#47;embed><&#47;object></p>
